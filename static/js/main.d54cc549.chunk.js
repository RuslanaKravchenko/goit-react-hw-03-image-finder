(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{39:function(n,e,t){},81:function(n,e,t){"use strict";t.r(e);var a=t(1),r=t(0),o=t(27),i=t.n(o),c=(t(38),t(39),t(7)),l=t.n(c),s=t(8),u=t(2),p=t(15),d=t(9),g=t(10),h=t(13),b=t(12),m=t(4),f=t(5);function x(){var n=Object(m.a)(["\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n\n  .ImageGalleryItem-image {\n    width: 100%;\n    height: 260px;\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .ImageGalleryItem-image:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]);return x=function(){return n},n}var j=f.a.li(x()),v=function(n){var e=n.image,t=n.onImageClick,r=e.id,o=e.tags,i=e.webformatURL,c=e.largeImageURL;return Object(a.jsx)(j,{"data-id":r,onClick:t,children:Object(a.jsx)("img",{src:i,alt:o,"data-url":c,"data-alt":o,className:"ImageGalleryItem-image"})})};function O(){var n=Object(m.a)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]);return O=function(){return n},n}var y=f.a.ul(O()),w=function(n){var e=n.images,t=n.onImageClick;return Object(a.jsx)(y,{children:e.map((function(n){return Object(a.jsx)(v,{image:n,onImageClick:t},n.id)}))})};function S(){var n=Object(m.a)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n\n  /*\n * \u0421\u0442\u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 SearchForm\n */\n  .SearchForm {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n\n  .SearchForm-button {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n  }\n\n  .SearchForm-button:hover {\n    opacity: 1;\n  }\n\n  .SearchForm-button-label {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n\n  .SearchForm-input {\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n  }\n\n  .SearchForm-input::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]);return S=function(){return n},n}var k=f.a.header(S()),I=function(n){Object(h.a)(t,n);var e=Object(b.a)(t);function t(){var n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))).state={inputValue:""},n.handleChange=function(e){n.setState({inputValue:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state.inputValue),n.setState({inputValue:""})},n}return Object(g.a)(t,[{key:"render",value:function(){return Object(a.jsx)(k,{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{onChange:this.handleChange,value:this.state.inputValue,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),t}(r.Component);function F(){var n=Object(m.a)(["\n  .Button {\n    display: block;\n    margin: 0 auto;\n    padding: 8px 16px;\n    border-radius: 2px;\n    background-color: #3f51b5;\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: center;\n    color: #fff;\n    border: 0;\n    text-decoration: none;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: 500;\n    min-width: 180px;\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  }\n  .Button:hover,\n  .Button:focus {\n    background-color: #303f9f;\n  }\n"]);return F=function(){return n},n}var C=f.a.div(F()),M=function(n){var e=n.onFetchImages;return Object(a.jsx)(C,{children:Object(a.jsx)("button",{className:"Button",type:"button",onClick:e,children:"Load more"})})};function B(){var n=Object(m.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n\n  .Modal {\n    max-width: calc(100vw - 48px);\n    max-height: calc(100vh - 24px);\n  }\n"]);return B=function(){return n},n}var L=f.a.div(B()),z=function(n){var e=n.imgURL,t=n.imgAlt,r=n.onHandleClickInModal;return Object(a.jsx)(L,{onClick:r,children:Object(a.jsx)("div",{className:"Modal",children:Object(a.jsx)("img",{src:e,alt:t})})})},E=t(31),U=t.n(E);t(63);function N(){var n=Object(m.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  pointer-events: initial;\n"]);return N=function(){return n},n}var R=f.a.div(N()),A=function(){return Object(a.jsx)(R,{children:Object(a.jsx)(U.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})};function H(){var n=Object(m.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n"]);return H=function(){return n},n}var V=f.a.div(H()),G=t(32),Q=t.n(G),q=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="19509532-9c10a3c2f413abf8ad2252df8";return Q.a.get("https://pixabay.com/api/?q=".concat(n,"&page=").concat(e,"&key=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12\n")).then((function(n){return n.data.hits}))},D=function(n){Object(h.a)(t,n);var e=Object(b.a)(t);function t(){var n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))).state={images:[],loading:!1,error:null,searchQuery:"",page:1,largeImageURL:"",largeImageAlt:""},n.handleSearchFormSubmit=function(){var e=Object(p.a)(l.a.mark((function e(t){var a,r,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:1,e.prev=1,""!==t){e.next=4;break}return e.abrupt("return");case 4:return window.scrollTo({top:0,behavior:"smooth"}),n.resetError(),n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{loading:!0})})),e.next=9,q(t,a);case 9:r=e.sent,n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{images:Object(s.a)(r),page:2,searchQuery:t,loading:!1})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{error:e.t0})}));case 16:return e.prev=16,n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{loading:!1})})),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(n){return e.apply(this,arguments)}}(),n.loadMore=Object(p.a)(l.a.mark((function e(){var t,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.resetError(),t=n.state,a=t.searchQuery,r=t.page,n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{loading:!0})})),e.next=6,q(a,r);case 6:o=e.sent,n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{images:[].concat(Object(s.a)(n.images),Object(s.a)(o)),page:n.page+1})})),n.state.page>2&&n.scrollBy(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{error:e.t0})}));case 14:return e.prev=14,n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{loading:!1})})),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])}))),n.resetError=function(){n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{error:""})}))},n.toggleModal=function(e){n.setState({largeImageURL:e.target.dataset.url,largeImageAlt:e.target.dataset.url})},n.closeModalByEsc=function(e){"Escape"===e.code&&n.setState({largeImageURL:null})},n.handleClickInModal=function(e){"IMG"!==e.target.nodeName&&n.setState({largeImageURL:null})},n.scrollBy=function(){window.scrollBy({top:document.documentElement.clientHeight-document.querySelector(".Button").clientHeight-document.querySelector(".Searchbar").clientHeight,behavior:"smooth"})},n}return Object(g.a)(t,[{key:"componentDidMount",value:function(){var n=this;window.addEventListener("keydown",this.closeModalByEsc);var e=this.state,t=e.searchQuery,a=e.page;q(t,a).then((function(e){n.setState((function(n){return Object(u.a)(Object(u.a)({},n),{},{images:Object(s.a)(e),page:2})}))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModalByEsc)}},{key:"render",value:function(){var n=this.state,e=n.images,t=n.loading,r=n.largeImageURL,o=n.largeImageAlt;return Object(a.jsxs)(V,{children:[Object(a.jsx)(I,{onSubmit:this.handleSearchFormSubmit}),e.length>0&&Object(a.jsx)(w,{images:e,onImageClick:this.toggleModal}),r&&Object(a.jsx)(z,{imgURL:r,imgAlt:o,onHandleClickInModal:this.handleClickInModal}),t&&Object(a.jsx)(A,{}),e.length>0&&Object(a.jsx)(M,{onFetchImages:this.loadMore})]})}}]),t}(r.Component),J=function(){return Object(a.jsx)(D,{})};i.a.render(Object(a.jsx)(J,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.d54cc549.chunk.js.map